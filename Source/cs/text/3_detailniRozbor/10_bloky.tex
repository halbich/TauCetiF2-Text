%!TEX root = ../../prace.tex

\section{Bloky}

V této části rozebereme, jak můžeme definovat a~následně implementovat bloky a popíšeme, jaké jsou výhody a~nevýhody jednotlivých implementací.

Z předchozí části víme, že budeme chtít takovou strukturu, abychom mohli v \UE{} snadno modifikovat hodnoty jejích vlastností. Takže nepřipadá v úvahu, abychom měli konstanty uložené ve zdrojovém kódu. Pak ale tyto konstanty budeme muset buď načítat z nějakého souboru, nebo budou muset být uložené v nějakém objektu z \UE{}.

Při načítání ze souboru máme více možností -- můžeme popisovat bloky a jejich chování v třeba XML souborech. Obdobné řešení používá hra \ME{}. Tyto soubory jsou pak zpracovány herním enginem během načítání hry. 

\subsection{Textové soubory}
V této části se zamyslíme nad použitím definic v textovém souboru. Může se jednat o množinu samostatných souborů, přičemž budeme uvažovat pouze XML soubory, nebo můžeme použít třeba popis bloků v nějakém tabulkovém formátu, třeba csv.

\subsubsection{Popis tabulkou}
Pokud bychom měli velice málo vlastností bloků, tento přístup by mohl být použitelný. Nicméně s každým dalším nově přidaným blokem se do množiny všech vlastností mohou zanášet nové vlastnosti.  To by znamenalo, že popis ostatních bloků, které danou vlastnost nemají, by musel nutně v tomto tabulkovém zápisu uvažovat nějakou (byť prázdnou) hodnotu. Zbytečně by nám tak rostl definiční soubor. Další nevýhodou je absence typové bezpečnosti. 

\subsubsection{Popis samostatným souborem -- XML}
Proč neuvažujeme běžné soubory textového formátu? Výsledek je stejný jako při použití XML, ale nemůžeme zde použít definiční soubory pro automatickou kontrolu platnosti hodnot. Navíc bychom museli psát vlastní parser takového textového souboru, přičemž již hotové parsery XML jsou volně k dispozici. 

Výhodou tohoto přístupu je také budoucí rozšiřovatelnost o nové bloky

Soubor obsahuje popis vlastno

- externě editovatelné formáty (+ -- modding, -- těžší implementace, parsing, validace)
- binární formát

- xml


- interní formát
- specifické subclassy pro bloky včetně specifických vlastností přímo na 
- definiční struktura



\input{./text/3_detailniRozbor/11_bloky_vlastnosti.tex}

\input{./text/3_detailniRozbor/12_bloky_komponenty.tex}